<!DOCTYPE html><html lang="en"><head><title data-rh="true">Package exports | webpack</title><meta data-rh="true" charset="utf-8"/><meta data-rh="true" name="theme-color" content="#2B3A42"/><meta data-rh="true" name="viewport" content="width=device-width, initial-scale=1"/><meta data-rh="true" name="description" content="webpack is a module bundler. Its main purpose is to bundle JavaScript files for usage in a browser, yet it is also capable of transforming, bundling, or packaging just about any resource or asset."/><meta data-rh="true" property="og:site_name" content="webpack"/><meta data-rh="true" property="og:type" content="website"/><meta data-rh="true" property="og:title" content="Package exports | webpack"/><meta data-rh="true" property="og:description" name="description" content="webpack is a module bundler. Its main purpose is to bundle JavaScript files for usage in a browser, yet it is also capable of transforming, bundling, or packaging just about any resource or asset."/><meta data-rh="true" property="og:image" content="https://webpack.js.org/icon-pwa-512x512.d3dae4189855b3a72ff9.png"/><meta data-rh="true" property="twitter:card" content="summary"/><meta data-rh="true" property="twitter:site" content="@webpack"/><meta data-rh="true" property="twitter:creator" content="@webpack"/><meta data-rh="true" property="twitter:domain" content="https://webpack.js.org/"/><meta data-rh="true" name="mobile-web-app-capable" content="yes"/><meta data-rh="true" name="apple-mobile-web-app-capable" content="yes"/><meta data-rh="true" name="apple-mobile-web-app-status-bar-style" content="black"/><meta data-rh="true" name="apple-mobile-web-app-title" content="webpack"/><meta data-rh="true" name="msapplication-TileImage" content="/icon_150x150.png"/><meta data-rh="true" name="msapplication-TileColor" content="#465e69"/><link data-rh="true" rel="icon" type="image/x-icon" href="/favicon.f326220248556af65f41.ico"/><link data-rh="true" rel="manifest" href="/manifest.json"/><link data-rh="true" rel="canonical" href="https://webpack.js.org/guides/package-exports/"/><link data-rh="true" rel="icon" sizes="192x192" href="/icon_192x192.png"/><link data-rh="true" rel="icon" sizes="512x512" href="/icon_512x512.png"/><link data-rh="true" rel="apple-touch-icon" href="/icon_180x180.png"/><link data-rh="true" rel="mask-icon" href="/logo-on-white-bg.47eff95f9c01c5972f6f.svg" color="#465e69"/><link rel="stylesheet" href=/index.0c72c1cff96b47dc2c50.css /><link rel="stylesheet" href=/5731.494fb1bec7a2a489d194.css /></head><body><div id="root"><div class="site"><div class="site__header"><header class="navigation   "><section class="navigation__inner"><button aria-label="Open menu" class="navigation__mobile"><svg viewBox="-62 138 25 25"><g><g><path d="M-60.2,140.2h20.9c1,0,1.8,0.8,1.8,1.8l0,0c0,1-0.8,1.8-1.8,1.8h-20.9c-1,0-1.8-0.8-1.8-1.8l0,0 C-62,141-61.2,140.2-60.2,140.2z"></path><path d="M-60.2,148.7h20.9c1,0,1.8,0.8,1.8,1.8l0,0c0,1-0.8,1.8-1.8,1.8h-20.9c-1,0-1.8-0.8-1.8-1.8l0,0 C-62,149.5-61.2,148.7-60.2,148.7z"></path><path d="M-60.2,157.2h20.9c1,0,1.8,0.8,1.8,1.8l0,0c0,1-0.8,1.8-1.8,1.8h-20.9c-1,0-1.8-0.8-1.8-1.8l0,0 C-62,158-61.2,157.2-60.2,157.2z"></path></g></g></svg></button><a class="navigation__logo" href="/"><img class="logo" src="/site-logo.1fcab817090e78435061.svg" alt="webpack logo"/></a><nav class="navigation__items"><a class="navigation__item  navigation__item--active" href="/concepts/">Documentation</a><a class="navigation__item  " href="/contribute/">Contribute</a><a class="navigation__item  " href="/vote/">Vote</a><a class="navigation__item  " href="/blog/">Blog</a><a href="https://github.com/webpack/webpack" target="_blank" rel="noopener noreferrer" title="GitHub Repository" class="navigation__item navigation__item--icon "><svg viewBox="0 0 24 24" aria-hidden="true" fill="#fff" width="16"><path d="M12 2A10 10 0 002 12a10 10 0 006.8 9.5c.5 0 .7-.2.7-.5v-1.7C6.7 20 6.1 18 6.1 18c-.4-1.2-1-1.5-1-1.5-1-.6 0-.6 0-.6 1 0 1.5 1 1.5 1 .9 1.6 2.4 1.1 3 .9 0-.7.3-1.1.6-1.4-2.2-.2-4.6-1-4.6-4.9 0-1.1.4-2 1-2.7 0-.3-.4-1.3.2-2.7 0 0 .8-.2 2.7 1a9.4 9.4 0 015 0c2-1.2 2.8-1 2.8-1 .5 1.4.1 2.4 0 2.7.7.7 1 1.6 1 2.7 0 3.8-2.3 4.7-4.5 5 .4.2.7.8.7 1.8V21c0 .3.2.6.7.5 4-1.3 6.8-5 6.8-9.5A10 10 0 0012 2z"></path></svg></a><a href="https://twitter.com/webpack" target="_blank" rel="noopener noreferrer" title="webpack on Twitter" class="navigation__item navigation__item--icon "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" aria-hidden="true" fill="#fff" width="16"><path d="M28 6.937c-.957.425-1.985.711-3.064.84a5.343 5.343 0 002.345-2.951 10.696 10.696 0 01-3.388 1.295 5.334 5.334 0 00-9.089 4.864A15.143 15.143 0 013.809 5.411a5.321 5.321 0 00-.721 2.683 5.33 5.33 0 002.372 4.439 5.323 5.323 0 01-2.416-.667v.067a5.335 5.335 0 004.279 5.23 5.336 5.336 0 01-2.409.092 5.34 5.34 0 004.983 3.705 10.699 10.699 0 01-6.625 2.284c-.43 0-.855-.025-1.273-.075a15.102 15.102 0 008.177 2.396c9.812 0 15.176-8.128 15.176-15.177 0-.231-.005-.461-.015-.69A10.855 10.855 0 0028 6.937z"></path></svg></a><a href="https://stackoverflow.com/questions/tagged/webpack" target="_blank" rel="noopener noreferrer" title="webpack on Stack Overflow" class="navigation__item navigation__item--icon "><svg viewBox="0 0 24 24" aria-hidden="true" fill="#fff" width="16"><path d="M17.4 20.2v-5.4h1.8V22H3v-7.2h1.8v5.4h12.6M6.8 14.3l.3-1.7 8.8 1.8-.3 1.8-8.8-1.9m1.1-4.2l.8-1.6 8.1 3.8-.7 1.6-8.2-3.8m2.3-4l1.1-1.4 7 5.8-1.2 1.4L10 6m4.7-4L20 9l-1.4 1-5.4-7 1.4-1m-8 16.5v-1.8h9v1.8h-9z"></path></svg></a><span class="navigation__item navigation__item--icon"><nav class="dropdown navigation__languages"><button aria-haspopup="true" aria-expanded="false" aria-label="Select language"><img class="dropdown__language" alt="select language" src="/language-icon.87a028c9bf555eeb5932.svg"/><i aria-hidden="true" class="dropdown__arrow"></i></button><div class="dropdown__list "><ul><li><a href="https://webpack.js.org/"><span>English</span></a></li><li><a href="https://webpack.docschina.org/"><span lang="zh">中文</span></a></li></ul></div></nav></span><span class="navigation__item navigation__item--icon"><button style="background:transparent;border:none;cursor:pointer">☀️</button></span></nav><div class="navigation-search "><input type="text" class="navigation-search__input" placeholder="Search this site..." value=""/><button aria-label="Hide search box" class="navigation-search__icon navigation-search__clear"><svg viewBox="-137 138 25 25"><g transform="translate(0,-952.36218)"><path d="M-131.3,1094.4c-0.4,0-0.9,0.1-1.2,0.5c-0.7,0.7-0.7,1.7,0,2.4l5.6,5.6l-5.6,5.6c-0.7,0.7-0.7,1.7,0,2.4 c0.7,0.7,1.7,0.7,2.4,0l5.6-5.6l5.6,5.6c0.7,0.7,1.7,0.7,2.4,0c0.7-0.7,0.7-1.7,0-2.4l-5.6-5.6l5.6-5.6c0.7-0.7,0.7-1.7,0-2.4 c-0.7-0.7-1.7-0.7-2.4,0l-5.6,5.6l-5.6-5.6C-130.5,1094.5-130.9,1094.4-131.3,1094.4L-131.3,1094.4z"></path></g></svg></button><button aria-label="Show search box" class="navigation-search__icon navigation-search__search"><svg viewBox="-137 138 25 25"><g><path d="M-114.6,162.6l-7.5-7.5c-0.6-0.6-0.6-1.6,0-2.1l0,0c0.6-0.6,1.6-0.6,2.1,0l7.5,7.5c0.6,0.6,0.6,1.6,0,2.1l0,0 C-113,163.1-114,163.1-114.6,162.6z"></path><path d="M-134.1,140.9c-3.9,3.9-3.9,10.2,0,14.1s10.2,3.9,14.1,0s3.9-10.2,0-14.1S-130.2,137-134.1,140.9z M-122.1,153 c-2.7,2.7-7.1,2.7-9.8,0s-2.7-7.1,0-9.8s7.1-2.7,9.8,0C-119.4,145.9-119.4,150.2-122.1,153z"></path></g></svg></button></div></section><div class="navigation-sub"><div class="navigation-sub__inner"><a class="navigation-sub__link " title="api" content="api" href="/api/">api</a><a class="navigation-sub__link " title="concepts" content="concepts" href="/concepts/">concepts</a><a class="navigation-sub__link " title="configuration" content="configuration" href="/configuration/">configuration</a><a class="navigation-sub__link navigation-sub__link--active" title="guides" content="guides" href="/guides/">guides</a><a class="navigation-sub__link " title="loaders" content="loaders" href="/loaders/">loaders</a><a class="navigation-sub__link " title="migrate" content="migrate" href="/migrate/">migrate</a><a class="navigation-sub__link " title="plugins" content="plugins" href="/plugins/">plugins</a></div></div></header></div><div class="container site__content"><div class="sponsors"><a href="https://www.ag-grid.com/?utm_source=webpack&amp;utm_medium=banner&amp;utm_campaign=sponsorship" target="_blank" rel="noopener noreferrer" class="sponsors__content"><img src="/ag-grid-logo.4fe9d34532b2c0821fc9.png"/><img class="sponsors__img__webpack" src="/icon-square-small.85ba630cf0c5f29ae3e3.svg"/><div class="sponsors__content-cont">ag-grid is proud to partner with webpack</div></a></div><nav class="sidebar site__sidebar"><div class="sidebar__inner"><div class="sidebar__shields"><a href="https://github.com/webpack/webpack/releases"><img alt="webpack shield" src="https://img.shields.io/github/package-json/v/webpack/webpack.svg?label=webpack&amp;style=flat-square&amp;maxAge=3600"/></a></div><div class="sidebar-item sidebar-item--disabled`"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="sidebar-item__toggle" width="15" height="17" fill="#175d96"><path d="M10 3.3c-.6 0-1 .4-1.1 1.1v11.2c0 .3.2.6.4.8.2.2.5.4.8.4.6 0 1-.4 1.1-1.1V4.5c0-.3-.2-.6-.4-.8-.2-.2-.5-.4-.8-.4z" color="#000" style="isolation:auto;mix-blend-mode:normal"></path></svg><a class="sidebar-item__title sidebar-link__print" href="/guides/printable/" rel="nofollow noopener noreferrer" alt="Print" title="Print" target="_blank">Print Section<img src="/icon-print.42ad40feec51e6f5f553.svg"/></a></div><div><div class="sidebar-item  sidebar-item--disabled"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="sidebar-item__toggle" width="15" height="17" fill="#175d96"><path d="M10 3.3c-.6 0-1 .4-1.1 1.1v11.2c0 .3.2.6.4.8.2.2.5.4.8.4.6 0 1-.4 1.1-1.1V4.5c0-.3-.2-.6-.4-.8-.2-.2-.5-.4-.8-.4z" color="#000" style="isolation:auto;mix-blend-mode:normal"></path></svg><a class="sidebar-item__title" href="/guides/">Guides</a></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/guides/getting-started/">Getting Started</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Basic Setup"><a href="/guides/getting-started/#basic-setup">Basic Setup</a></li><li class="sidebar-item__anchor" title="Creating a Bundle"><a href="/guides/getting-started/#creating-a-bundle">Creating a Bundle</a></li><li class="sidebar-item__anchor" title="Modules"><a href="/guides/getting-started/#modules">Modules</a></li><li class="sidebar-item__anchor" title="Using a Configuration"><a href="/guides/getting-started/#using-a-configuration">Using a Configuration</a></li><li class="sidebar-item__anchor" title="NPM Scripts"><a href="/guides/getting-started/#npm-scripts">NPM Scripts</a></li><li class="sidebar-item__anchor" title="Conclusion"><a href="/guides/getting-started/#conclusion">Conclusion</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/guides/asset-management/">Asset Management</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Setup"><a href="/guides/asset-management/#setup">Setup</a></li><li class="sidebar-item__anchor" title="Loading CSS"><a href="/guides/asset-management/#loading-css">Loading CSS</a></li><li class="sidebar-item__anchor" title="Loading Images"><a href="/guides/asset-management/#loading-images">Loading Images</a></li><li class="sidebar-item__anchor" title="Loading Fonts"><a href="/guides/asset-management/#loading-fonts">Loading Fonts</a></li><li class="sidebar-item__anchor" title="Loading Data"><a href="/guides/asset-management/#loading-data">Loading Data</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Customize parser of JSON modules"><a href="/guides/asset-management/#customize-parser-of-json-modules">Customize parser of JSON modules</a></li></ul></li><li class="sidebar-item__anchor" title="Global Assets"><a href="/guides/asset-management/#global-assets">Global Assets</a></li><li class="sidebar-item__anchor" title="Wrapping up"><a href="/guides/asset-management/#wrapping-up">Wrapping up</a></li><li class="sidebar-item__anchor" title="Next guide"><a href="/guides/asset-management/#next-guide">Next guide</a></li><li class="sidebar-item__anchor" title="Further Reading"><a href="/guides/asset-management/#further-reading">Further Reading</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/guides/output-management/">Output Management</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Preparation"><a href="/guides/output-management/#preparation">Preparation</a></li><li class="sidebar-item__anchor" title="Setting up HtmlWebpackPlugin"><a href="/guides/output-management/#setting-up-htmlwebpackplugin">Setting up HtmlWebpackPlugin</a></li><li class="sidebar-item__anchor" title="Cleaning up the /dist folder"><a href="/guides/output-management/#cleaning-up-the-dist-folder">Cleaning up the /dist folder</a></li><li class="sidebar-item__anchor" title="The Manifest"><a href="/guides/output-management/#the-manifest">The Manifest</a></li><li class="sidebar-item__anchor" title="Conclusion"><a href="/guides/output-management/#conclusion">Conclusion</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/guides/development/">Development</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Using source maps"><a href="/guides/development/#using-source-maps">Using source maps</a></li><li class="sidebar-item__anchor" title="Choosing a Development Tool"><a href="/guides/development/#choosing-a-development-tool">Choosing a Development Tool</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Using Watch Mode"><a href="/guides/development/#using-watch-mode">Using Watch Mode</a></li><li class="sidebar-item__anchor" title="Using webpack-dev-server"><a href="/guides/development/#using-webpack-dev-server">Using webpack-dev-server</a></li><li class="sidebar-item__anchor" title="Using webpack-dev-middleware"><a href="/guides/development/#using-webpack-dev-middleware">Using webpack-dev-middleware</a></li></ul></li><li class="sidebar-item__anchor" title="Adjusting Your Text Editor"><a href="/guides/development/#adjusting-your-text-editor">Adjusting Your Text Editor</a></li><li class="sidebar-item__anchor" title="Conclusion"><a href="/guides/development/#conclusion">Conclusion</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/guides/code-splitting/">Code Splitting</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Entry Points"><a href="/guides/code-splitting/#entry-points">Entry Points</a></li><li class="sidebar-item__anchor" title="Prevent Duplication"><a href="/guides/code-splitting/#prevent-duplication">Prevent Duplication</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Entry dependencies"><a href="/guides/code-splitting/#entry-dependencies">Entry dependencies</a></li><li class="sidebar-item__anchor" title="SplitChunksPlugin"><a href="/guides/code-splitting/#splitchunksplugin">SplitChunksPlugin</a></li></ul></li><li class="sidebar-item__anchor" title="Dynamic Imports"><a href="/guides/code-splitting/#dynamic-imports">Dynamic Imports</a></li><li class="sidebar-item__anchor" title="Prefetching/Preloading modules"><a href="/guides/code-splitting/#prefetchingpreloading-modules">Prefetching/Preloading modules</a></li><li class="sidebar-item__anchor" title="Bundle Analysis"><a href="/guides/code-splitting/#bundle-analysis">Bundle Analysis</a></li><li class="sidebar-item__anchor" title="Next Steps"><a href="/guides/code-splitting/#next-steps">Next Steps</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/guides/caching/">Caching</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Output Filenames"><a href="/guides/caching/#output-filenames">Output Filenames</a></li><li class="sidebar-item__anchor" title="Extracting Boilerplate"><a href="/guides/caching/#extracting-boilerplate">Extracting Boilerplate</a></li><li class="sidebar-item__anchor" title="Module Identifiers"><a href="/guides/caching/#module-identifiers">Module Identifiers</a></li><li class="sidebar-item__anchor" title="Conclusion"><a href="/guides/caching/#conclusion">Conclusion</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/guides/author-libraries/">Authoring Libraries</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Authoring a Library"><a href="/guides/author-libraries/#authoring-a-library">Authoring a Library</a></li><li class="sidebar-item__anchor" title="Webpack Configuration"><a href="/guides/author-libraries/#webpack-configuration">Webpack Configuration</a></li><li class="sidebar-item__anchor" title="Expose the Library"><a href="/guides/author-libraries/#expose-the-library">Expose the Library</a></li><li class="sidebar-item__anchor" title="Externalize Lodash"><a href="/guides/author-libraries/#externalize-lodash">Externalize Lodash</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="External Limitations"><a href="/guides/author-libraries/#external-limitations">External Limitations</a></li></ul></li><li class="sidebar-item__anchor" title="Final Steps"><a href="/guides/author-libraries/#final-steps">Final Steps</a></li></ul></div></div><div><div class="sidebar-item  sidebar-item--disabled"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="sidebar-item__toggle" width="15" height="17" fill="#175d96"><path d="M10 3.3c-.6 0-1 .4-1.1 1.1v11.2c0 .3.2.6.4.8.2.2.5.4.8.4.6 0 1-.4 1.1-1.1V4.5c0-.3-.2-.6-.4-.8-.2-.2-.5-.4-.8-.4z" color="#000" style="isolation:auto;mix-blend-mode:normal"></path></svg><a class="sidebar-item__title" href="/guides/environment-variables/">Environment Variables</a></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/guides/build-performance/">Build Performance</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="General"><a href="/guides/build-performance/#general">General</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Stay Up to Date"><a href="/guides/build-performance/#stay-up-to-date">Stay Up to Date</a></li><li class="sidebar-item__anchor" title="Loaders"><a href="/guides/build-performance/#loaders">Loaders</a></li><li class="sidebar-item__anchor" title="Bootstrap"><a href="/guides/build-performance/#bootstrap">Bootstrap</a></li><li class="sidebar-item__anchor" title="Resolving"><a href="/guides/build-performance/#resolving">Resolving</a></li><li class="sidebar-item__anchor" title="Dlls"><a href="/guides/build-performance/#dlls">Dlls</a></li><li class="sidebar-item__anchor" title="Smaller = Faster"><a href="/guides/build-performance/#smaller--faster">Smaller = Faster</a></li><li class="sidebar-item__anchor" title="Worker Pool"><a href="/guides/build-performance/#worker-pool">Worker Pool</a></li><li class="sidebar-item__anchor" title="Persistent cache"><a href="/guides/build-performance/#persistent-cache">Persistent cache</a></li><li class="sidebar-item__anchor" title="Custom plugins/loaders"><a href="/guides/build-performance/#custom-pluginsloaders">Custom plugins/loaders</a></li><li class="sidebar-item__anchor" title="Progress plugin"><a href="/guides/build-performance/#progress-plugin">Progress plugin</a></li></ul></li><li class="sidebar-item__anchor" title="Development"><a href="/guides/build-performance/#development">Development</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Incremental Builds"><a href="/guides/build-performance/#incremental-builds">Incremental Builds</a></li><li class="sidebar-item__anchor" title="Compile in Memory"><a href="/guides/build-performance/#compile-in-memory">Compile in Memory</a></li><li class="sidebar-item__anchor" title="stats.toJson speed"><a href="/guides/build-performance/#statstojson-speed">stats.toJson speed</a></li><li class="sidebar-item__anchor" title="Devtool"><a href="/guides/build-performance/#devtool">Devtool</a></li><li class="sidebar-item__anchor" title="Avoid Production Specific Tooling"><a href="/guides/build-performance/#avoid-production-specific-tooling">Avoid Production Specific Tooling</a></li><li class="sidebar-item__anchor" title="Minimal Entry Chunk"><a href="/guides/build-performance/#minimal-entry-chunk">Minimal Entry Chunk</a></li><li class="sidebar-item__anchor" title="Avoid Extra Optimization Steps"><a href="/guides/build-performance/#avoid-extra-optimization-steps">Avoid Extra Optimization Steps</a></li><li class="sidebar-item__anchor" title="Output Without Path Info"><a href="/guides/build-performance/#output-without-path-info">Output Without Path Info</a></li><li class="sidebar-item__anchor" title="Node.js Versions 8.9.10-9.11.1"><a href="/guides/build-performance/#nodejs-versions-8910-9111">Node.js Versions 8.9.10-9.11.1</a></li><li class="sidebar-item__anchor" title="TypeScript Loader"><a href="/guides/build-performance/#typescript-loader">TypeScript Loader</a></li></ul></li><li class="sidebar-item__anchor" title="Production"><a href="/guides/build-performance/#production">Production</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Multiple Compilations"><a href="/guides/build-performance/#multiple-compilations">Multiple Compilations</a></li><li class="sidebar-item__anchor" title="Source Maps"><a href="/guides/build-performance/#source-maps">Source Maps</a></li></ul></li><li class="sidebar-item__anchor" title="Specific Tooling Issues"><a href="/guides/build-performance/#specific-tooling-issues">Specific Tooling Issues</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Babel"><a href="/guides/build-performance/#babel">Babel</a></li><li class="sidebar-item__anchor" title="TypeScript"><a href="/guides/build-performance/#typescript">TypeScript</a></li><li class="sidebar-item__anchor" title="Sass"><a href="/guides/build-performance/#sass">Sass</a></li></ul></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/guides/csp/">Content Security Policies</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Examples"><a href="/guides/csp/#examples">Examples</a></li><li class="sidebar-item__anchor" title="Enabling CSP"><a href="/guides/csp/#enabling-csp">Enabling CSP</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/guides/development-vagrant/">Development - Vagrant</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Configuring the Project"><a href="/guides/development-vagrant/#configuring-the-project">Configuring the Project</a></li><li class="sidebar-item__anchor" title="Running the Server"><a href="/guides/development-vagrant/#running-the-server">Running the Server</a></li><li class="sidebar-item__anchor" title="Advanced Usage with nginx"><a href="/guides/development-vagrant/#advanced-usage-with-nginx">Advanced Usage with nginx</a></li><li class="sidebar-item__anchor" title="Conclusion"><a href="/guides/development-vagrant/#conclusion">Conclusion</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/guides/dependency-management/">Dependency Management</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="require with expression"><a href="/guides/dependency-management/#require-with-expression">require with expression</a></li><li class="sidebar-item__anchor" title="require.context"><a href="/guides/dependency-management/#requirecontext">require.context</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="context module API"><a href="/guides/dependency-management/#context-module-api">context module API</a></li></ul></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/guides/installation/">Installation</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Prerequisites"><a href="/guides/installation/#prerequisites">Prerequisites</a></li><li class="sidebar-item__anchor" title="Local Installation"><a href="/guides/installation/#local-installation">Local Installation</a></li><li class="sidebar-item__anchor" title="Global Installation"><a href="/guides/installation/#global-installation">Global Installation</a></li><li class="sidebar-item__anchor" title="Bleeding Edge"><a href="/guides/installation/#bleeding-edge">Bleeding Edge</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/guides/hot-module-replacement/">Hot Module Replacement</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Enabling HMR"><a href="/guides/hot-module-replacement/#enabling-hmr">Enabling HMR</a></li><li class="sidebar-item__anchor" title="Via the Node.js API"><a href="/guides/hot-module-replacement/#via-the-nodejs-api">Via the Node.js API</a></li><li class="sidebar-item__anchor" title="Gotchas"><a href="/guides/hot-module-replacement/#gotchas">Gotchas</a></li><li class="sidebar-item__anchor" title="HMR with Stylesheets"><a href="/guides/hot-module-replacement/#hmr-with-stylesheets">HMR with Stylesheets</a></li><li class="sidebar-item__anchor" title="Other Code and Frameworks"><a href="/guides/hot-module-replacement/#other-code-and-frameworks">Other Code and Frameworks</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/guides/tree-shaking/">Tree Shaking</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Add a Utility"><a href="/guides/tree-shaking/#add-a-utility">Add a Utility</a></li><li class="sidebar-item__anchor" title="Mark the file as side-effect-free"><a href="/guides/tree-shaking/#mark-the-file-as-side-effect-free">Mark the file as side-effect-free</a></li><li class="sidebar-item__anchor" title="Clarifying tree shaking and sideEffects"><a href="/guides/tree-shaking/#clarifying-tree-shaking-and-sideeffects">Clarifying tree shaking and sideEffects</a></li><li class="sidebar-item__anchor" title="Mark a function call as side-effect-free"><a href="/guides/tree-shaking/#mark-a-function-call-as-side-effect-free">Mark a function call as side-effect-free</a></li><li class="sidebar-item__anchor" title="Minify the Output"><a href="/guides/tree-shaking/#minify-the-output">Minify the Output</a></li><li class="sidebar-item__anchor" title="Conclusion"><a href="/guides/tree-shaking/#conclusion">Conclusion</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/guides/production/">Production</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Setup"><a href="/guides/production/#setup">Setup</a></li><li class="sidebar-item__anchor" title="NPM Scripts"><a href="/guides/production/#npm-scripts">NPM Scripts</a></li><li class="sidebar-item__anchor" title="Specify the Mode"><a href="/guides/production/#specify-the-mode">Specify the Mode</a></li><li class="sidebar-item__anchor" title="Minification"><a href="/guides/production/#minification">Minification</a></li><li class="sidebar-item__anchor" title="Source Mapping"><a href="/guides/production/#source-mapping">Source Mapping</a></li><li class="sidebar-item__anchor" title="Minimize CSS"><a href="/guides/production/#minimize-css">Minimize CSS</a></li><li class="sidebar-item__anchor" title="CLI Alternatives"><a href="/guides/production/#cli-alternatives">CLI Alternatives</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/guides/lazy-loading/">Lazy Loading</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Example"><a href="/guides/lazy-loading/#example">Example</a></li><li class="sidebar-item__anchor" title="Frameworks"><a href="/guides/lazy-loading/#frameworks">Frameworks</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/guides/ecma-script-modules/">ECMAScript Modules</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Exporting"><a href="/guides/ecma-script-modules/#exporting">Exporting</a></li><li class="sidebar-item__anchor" title="Importing"><a href="/guides/ecma-script-modules/#importing">Importing</a></li><li class="sidebar-item__anchor" title="Flagging modules as ESM"><a href="/guides/ecma-script-modules/#flagging-modules-as-esm">Flagging modules as ESM</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/guides/shimming/">Shimming</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Shimming Globals"><a href="/guides/shimming/#shimming-globals">Shimming Globals</a></li><li class="sidebar-item__anchor" title="Granular Shimming"><a href="/guides/shimming/#granular-shimming">Granular Shimming</a></li><li class="sidebar-item__anchor" title="Global Exports"><a href="/guides/shimming/#global-exports">Global Exports</a></li><li class="sidebar-item__anchor" title="Loading Polyfills"><a href="/guides/shimming/#loading-polyfills">Loading Polyfills</a></li><li class="sidebar-item__anchor" title="Further Optimizations"><a href="/guides/shimming/#further-optimizations">Further Optimizations</a></li><li class="sidebar-item__anchor" title="Node Built-Ins"><a href="/guides/shimming/#node-built-ins">Node Built-Ins</a></li><li class="sidebar-item__anchor" title="Other Utilities"><a href="/guides/shimming/#other-utilities">Other Utilities</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/guides/typescript/">TypeScript</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Basic Setup"><a href="/guides/typescript/#basic-setup">Basic Setup</a></li><li class="sidebar-item__anchor" title="Loader"><a href="/guides/typescript/#loader">Loader</a></li><li class="sidebar-item__anchor" title="Source Maps"><a href="/guides/typescript/#source-maps">Source Maps</a></li><li class="sidebar-item__anchor" title="Using Third Party Libraries"><a href="/guides/typescript/#using-third-party-libraries">Using Third Party Libraries</a></li><li class="sidebar-item__anchor" title="Importing Other Assets"><a href="/guides/typescript/#importing-other-assets">Importing Other Assets</a></li><li class="sidebar-item__anchor" title="Build Performance"><a href="/guides/typescript/#build-performance">Build Performance</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/guides/web-workers/">Web Workers</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Syntax"><a href="/guides/web-workers/#syntax">Syntax</a></li><li class="sidebar-item__anchor" title="Example"><a href="/guides/web-workers/#example">Example</a></li><li class="sidebar-item__anchor" title="Node.js"><a href="/guides/web-workers/#nodejs">Node.js</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/guides/progressive-web-application/">Progressive Web Application</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="We Don&#x27;t Work Offline Now"><a href="/guides/progressive-web-application/#we-dont-work-offline-now">We Don&#x27;t Work Offline Now</a></li><li class="sidebar-item__anchor" title="Adding Workbox"><a href="/guides/progressive-web-application/#adding-workbox">Adding Workbox</a></li><li class="sidebar-item__anchor" title="Registering Our Service Worker"><a href="/guides/progressive-web-application/#registering-our-service-worker">Registering Our Service Worker</a></li><li class="sidebar-item__anchor" title="Conclusion"><a href="/guides/progressive-web-application/#conclusion">Conclusion</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/guides/public-path/">Public Path</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Use Cases"><a href="/guides/public-path/#use-cases">Use Cases</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Environment Based"><a href="/guides/public-path/#environment-based">Environment Based</a></li><li class="sidebar-item__anchor" title="On The Fly"><a href="/guides/public-path/#on-the-fly">On The Fly</a></li></ul></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/guides/integrations/">Integrations</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="NPM Scripts"><a href="/guides/integrations/#npm-scripts">NPM Scripts</a></li><li class="sidebar-item__anchor" title="Grunt"><a href="/guides/integrations/#grunt">Grunt</a></li><li class="sidebar-item__anchor" title="Gulp"><a href="/guides/integrations/#gulp">Gulp</a></li><li class="sidebar-item__anchor" title="Mocha"><a href="/guides/integrations/#mocha">Mocha</a></li><li class="sidebar-item__anchor" title="Karma"><a href="/guides/integrations/#karma">Karma</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/guides/asset-modules/">Asset Modules</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Resource assets"><a href="/guides/asset-modules/#resource-assets">Resource assets</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Custom output filename"><a href="/guides/asset-modules/#custom-output-filename">Custom output filename</a></li></ul></li><li class="sidebar-item__anchor" title="Inlining assets"><a href="/guides/asset-modules/#inlining-assets">Inlining assets</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Custom data URI generator"><a href="/guides/asset-modules/#custom-data-uri-generator">Custom data URI generator</a></li></ul></li><li class="sidebar-item__anchor" title="Source assets"><a href="/guides/asset-modules/#source-assets">Source assets</a></li><li class="sidebar-item__anchor" title="URL assets"><a href="/guides/asset-modules/#url-assets">URL assets</a></li><li class="sidebar-item__anchor" title="General asset type"><a href="/guides/asset-modules/#general-asset-type">General asset type</a></li><li class="sidebar-item__anchor" title="Replacing Inline Loader Syntax"><a href="/guides/asset-modules/#replacing-inline-loader-syntax">Replacing Inline Loader Syntax</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/guides/entry-advanced/">Advanced entry</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Multiple file types per entry"><a href="/guides/entry-advanced/#multiple-file-types-per-entry">Multiple file types per entry</a></li></ul></div></div><div><div class="sidebar-item sidebar-item--open "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a aria-current="page" class="sidebar-item__title active" href="/guides/package-exports/">Package exports</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="General syntax"><a aria-current="page" class="active" href="/guides/package-exports/#general-syntax">General syntax</a></li><li class="sidebar-item__anchor" title="Alternatives"><a aria-current="page" class="active" href="/guides/package-exports/#alternatives">Alternatives</a></li><li class="sidebar-item__anchor" title="Conditional syntax"><a aria-current="page" class="active" href="/guides/package-exports/#conditional-syntax">Conditional syntax</a></li><li class="sidebar-item__anchor" title="Abbreviation"><a aria-current="page" class="active" href="/guides/package-exports/#abbreviation">Abbreviation</a></li><li class="sidebar-item__anchor" title="Notes about ordering"><a aria-current="page" class="active" href="/guides/package-exports/#notes-about-ordering">Notes about ordering</a></li><li class="sidebar-item__anchor" title="Support"><a aria-current="page" class="active" href="/guides/package-exports/#support">Support</a></li><li class="sidebar-item__anchor" title="Conditions"><a aria-current="page" class="active" href="/guides/package-exports/#conditions">Conditions</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Reference syntax"><a aria-current="page" class="active" href="/guides/package-exports/#reference-syntax">Reference syntax</a></li><li class="sidebar-item__anchor" title="Optimizations"><a aria-current="page" class="active" href="/guides/package-exports/#optimizations">Optimizations</a></li><li class="sidebar-item__anchor" title="Target environment"><a aria-current="page" class="active" href="/guides/package-exports/#target-environment">Target environment</a></li><li class="sidebar-item__anchor" title="Conditions: Preprocessor and runtimes"><a aria-current="page" class="active" href="/guides/package-exports/#conditions-preprocessor-and-runtimes">Conditions: Preprocessor and runtimes</a></li><li class="sidebar-item__anchor" title="Conditions: Custom"><a aria-current="page" class="active" href="/guides/package-exports/#conditions-custom">Conditions: Custom</a></li></ul></li><li class="sidebar-item__anchor" title="Common patterns"><a aria-current="page" class="active" href="/guides/package-exports/#common-patterns">Common patterns</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Target environment independent packages"><a aria-current="page" class="active" href="/guides/package-exports/#target-environment-independent-packages">Target environment independent packages</a></li><li class="sidebar-item__anchor" title="Providing devtools or production optimizations"><a aria-current="page" class="active" href="/guides/package-exports/#providing-devtools-or-production-optimizations">Providing devtools or production optimizations</a></li><li class="sidebar-item__anchor" title="Providing different versions depending on target environment"><a aria-current="page" class="active" href="/guides/package-exports/#providing-different-versions-depending-on-target-environment">Providing different versions depending on target environment</a></li><li class="sidebar-item__anchor" title="Combining patterns"><a aria-current="page" class="active" href="/guides/package-exports/#combining-patterns">Combining patterns</a></li></ul></li><li class="sidebar-item__anchor" title="Guidelines"><a aria-current="page" class="active" href="/guides/package-exports/#guidelines">Guidelines</a></li></ul></div></div><div class="sidebar__docs-version">You are reading webpack <!-- -->5<!-- --> documentation. Change here to:<ul><li><a rel="nofollow" href="https://v4.webpack.js.org">webpack <!-- -->4<!-- --> documentation</a></li></ul></div></div></nav><section class="page"><div class="page-links"><a class="page-links__link" href="https://github.com/webpack/webpack.js.org/edit/master/src/content/guides/package-exports.md">Edit Document<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="page-links__icon" width="12" fill="#1a6bac"><path d="M17.6 2.4C16 1 15 1.2 15 1.2l-6 6L2.2 14l-1 4.8 4.8-1 6.7-6.8 6-6s.3-1.1-1.1-2.6zm-12 14.8l-1.5.4-.7-1-1-.7.4-1.6.5-.4s.8 0 1.8 1 1 1.8 1 1.8l-.4.5z"></path></svg></a><span class="page-links__gap">|</span><button class="page-links__link page-links__print as-link" title="Print this page">Print Document<img src="/icon-print.42ad40feec51e6f5f553.svg" alt=""/></button></div><div class="markdown"><h1>Package exports</h1><div><p>The <code>exports</code> field in the <code>package.json</code> of a package allows to declare which module should be used when using module requests like <code>import "package"</code> or <code>import "package/sub/path"</code>. It replaces the default implementation that returns <code>main</code> field resp. <code>index.js</code> files for <code>"package"</code> and the file system lookup for <code>"package/sub/path"</code>.</p> <p>When the <code>exports</code> field is specified, only these module requests are available. Any other requests will lead to a ModuleNotFound Error.</p> <h2 id="general-syntax">General syntax<a href="#general-syntax" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>In general the <code>exports</code> field should contain an object where each properties specifies a sub path of the module request. For the examples above the following properties could be used: <code>"."</code> for <code>import "package"</code> and <code>"./sub/path"</code> for <code>import "package/sub/path"</code>. Properties ending with a <code>/</code> will forward a request with this prefix to the old file system lookup algorithm. For properties ending with <code>*</code>, <code>*</code> may take any value and any <code>*</code> in the property value is replaced with the taken value.</p> <p>An example:</p> <pre><code class="hljs language-json"><span class="token punctuation">{</span>
  <span class="token property">"exports"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"."</span><span class="token operator">:</span> <span class="token string">"./main.js"</span><span class="token punctuation">,</span>
    <span class="token property">"./sub/path"</span><span class="token operator">:</span> <span class="token string">"./secondary.js"</span><span class="token punctuation">,</span>
    <span class="token property">"./prefix/"</span><span class="token operator">:</span> <span class="token string">"./directory/"</span><span class="token punctuation">,</span>
    <span class="token property">"./prefix/deep/"</span><span class="token operator">:</span> <span class="token string">"./other-directory/"</span><span class="token punctuation">,</span>
    <span class="token property">"./other-prefix/*"</span><span class="token operator">:</span> <span class="token string">"./yet-another/*/*.js"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre> <table> <thead> <tr> <th>Module request</th> <th>Result</th> </tr> </thead> <tbody> <tr> <td data-th="Module request"><span><code>package</code></span></td> <td data-th="Result"><span><code>.../package/main.js</code></span></td> </tr> <tr> <td data-th="Module request"><span><code>package/sub/path</code></span></td> <td data-th="Result"><span><code>.../package/secondary.js</code></span></td> </tr> <tr> <td data-th="Module request"><span><code>package/prefix/some/file.js</code></span></td> <td data-th="Result"><span><code>.../package/directory/some/file.js</code></span></td> </tr> <tr> <td data-th="Module request"><span><code>package/prefix/deep/file.js</code></span></td> <td data-th="Result"><span><code>.../package/other-directory/file.js</code></span></td> </tr> <tr> <td data-th="Module request"><span><code>package/other-prefix/deep/file.js</code></span></td> <td data-th="Result"><span><code>.../package/yet-another/deep/file/deep/file.js</code></span></td> </tr> <tr> <td data-th="Module request"><span><code>package/main.js</code></span></td> <td data-th="Result"><span>Error</span></td> </tr> </tbody> </table> <h2 id="alternatives">Alternatives<a href="#alternatives" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Instead of providing a single result, the package author may provide a list of results. In such a scenario this list is tried in order and the first valid result will be used.</p> <p>Note: Only the first valid result will be used, not all valid results.</p> <p>Example:</p> <pre><code class="hljs language-json"><span class="token punctuation">{</span>
  <span class="token property">"exports"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"./things/"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"./good-things/"</span><span class="token punctuation">,</span> <span class="token string">"./bad-things/"</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre> <p>Here <code>package/things/apple</code> might be found in <code>.../package/good-things/apple</code> or in <code>.../package/bad-things/apple</code>.</p> <h2 id="conditional-syntax">Conditional syntax<a href="#conditional-syntax" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Instead of providing results directly in the <code>exports</code> field, the package author may let the module system choose one based on conditions about the environment.</p> <p>In this case an object mapping conditions to results should be used. Conditions are tried in object order. Conditions that contain invalid results are skipped. Conditions might be nested to create a logical AND. The last condition in the object might be the special <code>"default"</code> condition, which is always matched.</p> <p>Example:</p> <pre><code class="hljs language-json"><span class="token punctuation">{</span>
  <span class="token property">"exports"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"."</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"red"</span><span class="token operator">:</span> <span class="token string">"./stop.js"</span><span class="token punctuation">,</span>
      <span class="token property">"yellow"</span><span class="token operator">:</span> <span class="token string">"./stop.js"</span><span class="token punctuation">,</span>
      <span class="token property">"green"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"free"</span><span class="token operator">:</span> <span class="token string">"./drive.js"</span><span class="token punctuation">,</span>
        <span class="token property">"default"</span><span class="token operator">:</span> <span class="token string">"./wait.js"</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">"default"</span><span class="token operator">:</span> <span class="token string">"./drive-carefully.js"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre> <p>This translates to something like:</p> <pre><code class="hljs language-js"><span class="token keyword">if</span> <span class="token punctuation">(</span>red <span class="token operator">&#x26;&#x26;</span> <span class="token function">valid</span><span class="token punctuation">(</span><span class="token string">'./stop.js'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">'./stop.js'</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>yellow <span class="token operator">&#x26;&#x26;</span> <span class="token function">valid</span><span class="token punctuation">(</span><span class="token string">'./stop.js'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">'./stop.js'</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>green<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>free <span class="token operator">&#x26;&#x26;</span> <span class="token function">valid</span><span class="token punctuation">(</span><span class="token string">'./drive.js'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">'./drive.js'</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">valid</span><span class="token punctuation">(</span><span class="token string">'./wait.js'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">'./wait.js'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">valid</span><span class="token punctuation">(</span><span class="token string">'./drive-carefully.js'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">'./drive-carefully.js'</span><span class="token punctuation">;</span>
<span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">ModuleNotFoundError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>The available conditions vary depending on the module system and tool used.</p> <h2 id="abbreviation">Abbreviation<a href="#abbreviation" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>When only a single entry (<code>"."</code>) into the package should be supported the <code>{ ".": ... }</code> object nesting can be omitted:</p> <pre><code class="hljs language-json"><span class="token punctuation">{</span>
  <span class="token property">"exports"</span><span class="token operator">:</span> <span class="token string">"./index.mjs"</span>
<span class="token punctuation">}</span></code></pre> <pre><code class="hljs language-json"><span class="token punctuation">{</span>
  <span class="token property">"exports"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"red"</span><span class="token operator">:</span> <span class="token string">"./stop.js"</span><span class="token punctuation">,</span>
    <span class="token property">"green"</span><span class="token operator">:</span> <span class="token string">"./drive.js"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre> <h2 id="notes-about-ordering">Notes about ordering<a href="#notes-about-ordering" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>In an object where each key is a condition, order of properties is significant. Conditions are handled in the order they are specified.</p> <p>Example: <code>{ "red": "./stop.js", "green": "./drive.js" }</code> != <code>{ "green": "./drive.js", "red": "./stop.js" }</code> (when both <code>red</code> and <code>green</code> conditions are set, first property will be used)</p> <p>In an object where each key is a subpath, order of properties (subpaths) is not significant. More specific paths are preferred over less specific ones.</p> <p>Example: <code>{ "./a/": "./x/", "./a/b/": "./y/", "./a/b/c": "./z" }</code> == <code>{ "./a/b/c": "./z", "./a/b/": "./y/", "./a/": "./x/" }</code> (order will always be: <code>./a/b/c</code> > <code>./a/b/</code> > <code>./a/</code>)</p> <p><code>exports</code> field is preferred over other package entry fields like <code>main</code>, <code>module</code>, <code>browser</code> or custom ones.</p> <h2 id="support">Support<a href="#support" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <table> <thead> <tr> <th>Feature</th> <th>Supported by</th> </tr> </thead> <tbody> <tr> <td data-th="Feature"><span><code>"."</code> property</span></td> <td data-th="Supported by"><span>Node.js, webpack, rollup, esinstall, wmr</span></td> </tr> <tr> <td data-th="Feature"><span>normal property</span></td> <td data-th="Supported by"><span>Node.js, webpack, rollup, esinstall, wmr</span></td> </tr> <tr> <td data-th="Feature"><span>property ending with <code>/</code></span></td> <td data-th="Supported by"><span>Node.js<sup>(1)</sup>, webpack, rollup, esinstall<sup>(2)</sup>, wmr<sup>(3)</sup></span></td> </tr> <tr> <td data-th="Feature"><span>property ending with <code>*</code></span></td> <td data-th="Supported by"><span>Node.js, webpack, rollup, esinstall</span></td> </tr> <tr> <td data-th="Feature"><span>Alternatives</span></td> <td data-th="Supported by"><span>Node.js, webpack, rollup, <strike>esinstall</strike><sup>(4)</sup></span></td> </tr> <tr> <td data-th="Feature"><span>Abbreviation only path</span></td> <td data-th="Supported by"><span>Node.js, webpack, rollup, esinstall, wmr</span></td> </tr> <tr> <td data-th="Feature"><span>Abbreviation only conditions</span></td> <td data-th="Supported by"><span>Node.js, webpack, rollup, esinstall, wmr</span></td> </tr> <tr> <td data-th="Feature"><span>Conditional syntax</span></td> <td data-th="Supported by"><span>Node.js, webpack, rollup, esinstall, wmr</span></td> </tr> <tr> <td data-th="Feature"><span>Nested conditional syntax</span></td> <td data-th="Supported by"><span>Node.js, webpack, rollup, wmr<sup>(5)</sup></span></td> </tr> <tr> <td data-th="Feature"><span>Conditions Order</span></td> <td data-th="Supported by"><span>Node.js, webpack, rollup, wmr<sup>(6)</sup></span></td> </tr> <tr> <td data-th="Feature"><span><code>"default"</code> condition</span></td> <td data-th="Supported by"><span>Node.js, webpack, rollup, esinstall, wmr</span></td> </tr> <tr> <td data-th="Feature"><span>Path Order</span></td> <td data-th="Supported by"><span>Node.js, webpack, rollup</span></td> </tr> <tr> <td data-th="Feature"><span>Error when not mapped</span></td> <td data-th="Supported by"><span>Node.js, webpack, rollup, esinstall, wmr<sup>(7)</sup></span></td> </tr> <tr> <td data-th="Feature"><span>Error when mixing conditions and paths</span></td> <td data-th="Supported by"><span>Node.js, webpack, rollup</span></td> </tr> </tbody> </table> <p>(1) deprecated in Node.js, <code>*</code> should be preferred.</p> <p>(2) <code>"./"</code> is intentionally ignored as key.</p> <p>(3) The property value is ignored and property key is used as target. Effectively only allowing mappings with key and value are identical.</p> <p>(4) The syntax is supported, but always the first entry is used, which makes it unusable for any practical use case.</p> <p>(5) Fallback to alternative sibling parent conditions is handling incorrectly.</p> <p>(6) For the <code>require</code> condition object order is handled incorrectly. This is intentionally as wmr doesn't differ between referencing syntax.</p> <p>(7) When using <code>"exports": "./file.js"</code> abbreviation, any request e. g. <code>package/not-existing</code> will resolve to that. When not using the abbreviation, direct file access e. g. <code>package/file.js</code> will not lead to an error.</p> <h2 id="conditions">Conditions<a href="#conditions" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <h3 id="reference-syntax">Reference syntax<a href="#reference-syntax" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>One of these conditions is set depending on the syntax used to reference the module:</p> <table> <thead> <tr> <th>Condition</th> <th>Description</th> <th>Supported by</th> </tr> </thead> <tbody> <tr> <td data-th="Condition"><span><code>import</code></span></td> <td data-th="Description"><span>Request is issued from ESM syntax or similar.</span></td> <td data-th="Supported by"><span>Node.js, webpack, rollup, esinstall<sup>(1)</sup>, wmr<sup>(1)</sup></span></td> </tr> <tr> <td data-th="Condition"><span><code>require</code></span></td> <td data-th="Description"><span>Request is issued from CommonJs/AMD syntax or similar.</span></td> <td data-th="Supported by"><span>Node.js, webpack, rollup, esinstall<sup>(1)</sup>, wmr<sup>(1)</sup></span></td> </tr> <tr> <td data-th="Condition"><span><code>style</code></span></td> <td data-th="Description"><span>Request is issued from a stylesheet reference.</span></td> <td></td> </tr> <tr> <td data-th="Condition"><span><code>sass</code></span></td> <td data-th="Description"><span>Request is issued from a sass stylesheet reference.</span></td> <td></td> </tr> <tr> <td data-th="Condition"><span><code>asset</code></span></td> <td data-th="Description"><span>Request is issued from a asset reference.</span></td> <td></td> </tr> <tr> <td data-th="Condition"><span><code>script</code></span></td> <td data-th="Description"><span>Request is issued from a normal script tag without module system.</span></td> <td></td> </tr> </tbody> </table> <p>These conditions might also be set additionally:</p> <table> <thead> <tr> <th>Condition</th> <th>Description</th> <th>Supported by</th> </tr> </thead> <tbody> <tr> <td data-th="Condition"><span><code>module</code></span></td> <td data-th="Description"><span>All module syntax that allows to reference javascript supports ESM.<br>(only combined with <code>import</code> or <code>require</code>)</span></td> <td data-th="Supported by"><span>webpack, rollup, wmr</span></td> </tr> <tr> <td data-th="Condition"><span><code>esmodules</code></span></td> <td data-th="Description"><span>Always set by supported tools.</span></td> <td data-th="Supported by"><span>wmr</span></td> </tr> <tr> <td data-th="Condition"><span><code>types</code></span></td> <td data-th="Description"><span>Request is issued from typescript that is interested in type declarations.</span></td> <td></td> </tr> </tbody> </table> <p>(1) <code>import</code> and <code>require</code> are both set independent of referencing syntax. <code>require</code> has always lower priority.</p> <h4 id="import"><code>import</code><a href="#import" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>The following syntax will set the <code>import</code> condition:</p> <ul> <li>ESM <code>import</code> declarations in ESM</li> <li>JS <code>import()</code> expression</li> <li>HTML <code>&#x3C;script type="module"></code> in HTML</li> <li>HTML <code>&#x3C;link rel="preload/prefetch"></code> in HTML</li> <li>JS <code>new Worker(..., { type: "module" })</code></li> <li>WASM <code>import</code> section</li> <li>ESM HMR (webpack) <code>import.hot.accept/decline([...])</code></li> <li>JS <code>Worklet.addModule</code></li> <li>Using javascript as entrypoint</li> </ul> <h4 id="require"><code>require</code><a href="#require" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>The following syntax will set the <code>require</code> condition:</p> <ul> <li>CommonJs <code>require(...)</code></li> <li>AMD <code>define()</code></li> <li>AMD <code>require([...])</code></li> <li>CommonJs <code>require.resolve()</code></li> <li>CommonJs (webpack) <code>require.ensure([...])</code></li> <li>CommonJs (webpack) <code>require.context</code></li> <li>CommonJs HMR (webpack) <code>module.hot.accept/decline([...])</code></li> <li>HTML <code>&#x3C;script src="..."></code></li> </ul> <h4 id="style"><code>style</code><a href="#style" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>The following syntax will set the <code>style</code> condition:</p> <ul> <li>CSS <code>@import</code></li> <li>HTML <code>&#x3C;link rel="stylesheet"></code></li> </ul> <h4 id="asset"><code>asset</code><a href="#asset" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>The following syntax will set the <code>asset</code> condition:</p> <ul> <li>CSS <code>url()</code></li> <li>ESM <code>new URL(..., import.meta.url)</code></li> <li>HTML <code>&#x3C;img src="..."></code></li> </ul> <h4 id="script"><code>script</code><a href="#script" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>The following syntax will set the <code>script</code> condition:</p> <ul> <li>HTML <code>&#x3C;script src="..."></code></li> </ul> <p><code>script</code> should only be set when no module system is supported. When the script is preprocessed by a system supporting CommonJs it should set <code>require</code> instead.</p> <p>This condition should be used when looking for a javascript file that can be injected as script tag in a HTML page without additional preprocessing.</p> <h3 id="optimizations">Optimizations<a href="#optimizations" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>The following conditions are set for various optimizations:</p> <table> <thead> <tr> <th>Condition</th> <th>Description</th> <th>Supported by</th> </tr> </thead> <tbody> <tr> <td data-th="Condition"><span><code>production</code></span></td> <td data-th="Description"><span>In a production environment.<br>No devtooling should be included.</span></td> <td data-th="Supported by"><span>webpack</span></td> </tr> <tr> <td data-th="Condition"><span><code>development</code></span></td> <td data-th="Description"><span>In a development environment.<br>Devtooling should be included.</span></td> <td data-th="Supported by"><span>webpack</span></td> </tr> </tbody> </table> <p>Note: Since <code>production</code> and <code>development</code> is not supported by everyone, no assumption should be made when none of these is set.</p> <h3 id="target-environment">Target environment<a href="#target-environment" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>The following conditions are set depending on the target environment:</p> <table> <thead> <tr> <th>Condition</th> <th>Description</th> <th>Supported by</th> </tr> </thead> <tbody> <tr> <td data-th="Condition"><span><code>browser</code></span></td> <td data-th="Description"><span>Code will run in a browser.</span></td> <td data-th="Supported by"><span>webpack, esinstall, wmr</span></td> </tr> <tr> <td data-th="Condition"><span><code>electron</code></span></td> <td data-th="Description"><span>Code will run in electron.<sup>(1)</sup></span></td> <td data-th="Supported by"><span>webpack</span></td> </tr> <tr> <td data-th="Condition"><span><code>worker</code></span></td> <td data-th="Description"><span>Code will run in a (Web)Worker.<sup>(1)</sup></span></td> <td data-th="Supported by"><span>webpack</span></td> </tr> <tr> <td data-th="Condition"><span><code>worklet</code></span></td> <td data-th="Description"><span>Code will run in a Worklet.<sup>(1)</sup></span></td> <td data-th="Supported by"><span>-</span></td> </tr> <tr> <td data-th="Condition"><span><code>node</code></span></td> <td data-th="Description"><span>Code will run in Node.js.</span></td> <td data-th="Supported by"><span>Node.js, webpack, wmr<sup>(2)</sup></span></td> </tr> <tr> <td data-th="Condition"><span><code>deno</code></span></td> <td data-th="Description"><span>Code will run in Deno.</span></td> <td data-th="Supported by"><span>-</span></td> </tr> <tr> <td data-th="Condition"><span><code>react-native</code></span></td> <td data-th="Description"><span>Code will run in react-native.</span></td> <td data-th="Supported by"><span>-</span></td> </tr> </tbody> </table> <p>(1) <code>electron</code>, <code>worker</code> and <code>worklet</code> comes combined with either <code>node</code> or <code>browser</code>, depending on the context.</p> <p>(2) This is set for browser target environment.</p> <p>Since there are multiple versions of each environment the following guidelines apply:</p> <ul> <li><code>node</code>: See <code>engines</code> field for compatibility.</li> <li><code>browser</code>: Compatible with current Spec and stage 4 proposals at time of publishing the package. Polyfilling resp. transpiling must be handled on consumer side. <ul> <li>Features that are not possible to polyfill or transpile should be used carefully as it limits the possible usage.</li> </ul> </li> <li><code>deno</code>: TBD</li> <li><code>react-native</code>: TBD</li> </ul> <h3 id="conditions-preprocessor-and-runtimes">Conditions: Preprocessor and runtimes<a href="#conditions-preprocessor-and-runtimes" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>The following conditions are set depending on which tool preprocesses the source code.</p> <table> <thead> <tr> <th>Condition</th> <th>Description</th> <th>Supported by</th> </tr> </thead> <tbody> <tr> <td data-th="Condition"><span><code>webpack</code></span></td> <td data-th="Description"><span>Processed by webpack.</span></td> <td data-th="Supported by"><span>webpack</span></td> </tr> </tbody> </table> <p>Sadly there is no <code>node-js</code> condition for Node.js as runtime. This would simplify creating exceptions for Node.js.</p> <h3 id="conditions-custom">Conditions: Custom<a href="#conditions-custom" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>The following tools support custom conditions:</p> <table> <thead> <tr> <th>Tool</th> <th>Supported</th> <th>Notes</th> </tr> </thead> <tbody> <tr> <td data-th="Tool"><span>Node.js</span></td> <td data-th="Supported"><span>yes</span></td> <td data-th="Notes"><span>Use <code>--conditions</code> CLI argument.</span></td> </tr> <tr> <td data-th="Tool"><span>webpack</span></td> <td data-th="Supported"><span>yes</span></td> <td data-th="Notes"><span>Use <code>resolve.conditionNames</code> configuration option.</span></td> </tr> <tr> <td data-th="Tool"><span>rollup</span></td> <td data-th="Supported"><span>yes</span></td> <td data-th="Notes"><span>Use <code>exportConditions</code> option for <code>@rollup/plugin-node-resolve</code></span></td> </tr> <tr> <td data-th="Tool"><span>esinstall</span></td> <td data-th="Supported"><span>no</span></td> <td></td> </tr> <tr> <td data-th="Tool"><span>wmr</span></td> <td data-th="Supported"><span>no</span></td> <td></td> </tr> </tbody> </table> <p>For custom conditions the following naming schema is recommended:</p> <p><code>&#x3C;company-name>:&#x3C;condition-name></code></p> <p>Examples: <code>example-corp:beta</code>, <code>google:internal</code>, `</p> <h2 id="common-patterns">Common patterns<a href="#common-patterns" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>All patterns are explained with a single <code>"."</code> entry into the package, but they can be extended from multiple entries too, by repeating the pattern for each entry.</p> <p>These pattern should be used as guide not as strict ruleset. They can be adapted to the individual packages.</p> <p>These pattern are based on the following list of goals/assumptions:</p> <ul> <li>Packages are rotting. <ul> <li>We assume at some point packages are no longer being maintained, but they are continued to be used.</li> <li><code>exports</code> should be written to use fallbacks for unknown future cases. <code>default</code> condition can be used for that.</li> <li>As the future is unknown we assume an environment similar to browsers and module system similar to ESM.</li> </ul> </li> <li>Not all conditions are supported by every tool. <ul> <li>Fallbacks should be used to handled these cases.</li> <li>We assume the following fallback make sense in general: <ul> <li>ESM > CommonJs</li> <li>Production > Development</li> <li>Browser > node.js</li> </ul> </li> </ul> </li> </ul> <p>Depending on the package intention maybe something else makes sense and in this case the patterns should be adopted to that. Example: For a command line tool a browser-like future and fallback doesn't make a lot of sense, and in this case node.js-like environments and fallbacks should be used instead.</p> <p>For complex use cases multiple patterns need to be combined by nesting these conditions.</p> <h3 id="target-environment-independent-packages">Target environment independent packages<a href="#target-environment-independent-packages" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>These patterns make sense for packages that do not use environment specific APIs.</p> <h4 id="providing-only-an-esm-version">Providing only an ESM version<a href="#providing-only-an-esm-version" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <pre><code class="hljs language-json"><span class="token punctuation">{</span>
  <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"module"</span><span class="token punctuation">,</span>
  <span class="token property">"exports"</span><span class="token operator">:</span> <span class="token string">"./index.js"</span>
<span class="token punctuation">}</span></code></pre> <p>Note: Providing only a ESM comes with restrictions for node.js. Such a package would only work in Node.js >= 14 and only when using <code>import</code>. It won't work with <code>require()</code>.</p> <h4 id="providing-commonjs-and-esm-version-stateless">Providing CommonJs and ESM version (stateless)<a href="#providing-commonjs-and-esm-version-stateless" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <pre><code class="hljs language-json"><span class="token punctuation">{</span>
  <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"module"</span><span class="token punctuation">,</span>
  <span class="token property">"exports"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"node"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"module"</span><span class="token operator">:</span> <span class="token string">"./index.js"</span><span class="token punctuation">,</span>
      <span class="token property">"require"</span><span class="token operator">:</span> <span class="token string">"./index.cjs"</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">"default"</span><span class="token operator">:</span> <span class="token string">"./index.js"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre> <p>Most tools get the ESM version. Node.js is an exception here. It gets a CommonJs version when using <code>require()</code>. This will lead to two instances of these package when referencing it with <code>require()</code> and <code>import</code>, but that doesn't hurt as the package doesn't have state.</p> <p>The <code>module</code> condition is used as optimization when preprocessing node-targeted code with a tool that supports ESM for <code>require()</code> (like a bundler, when bundling for Node.js). For such a tool the exception is skipped. This is technically optional, but bundlers would include the package source code twice otherwise.</p> <p>You can also use the stateless pattern if you are able to isolate your package state in JSON files. JSON is consumable from CommonJs and ESM without polluting the graph with the other module system.</p> <p>Note that here stateless also means class instances are not tested with <code>instanceof</code> as there can be two different classes because of the double module instantiation.</p> <h4 id="providing-commonjs-and-esm-version-stateful">Providing CommonJs and ESM version (stateful)<a href="#providing-commonjs-and-esm-version-stateful" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <pre><code class="hljs language-json"><span class="token punctuation">{</span>
  <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"module"</span><span class="token punctuation">,</span>
  <span class="token property">"exports"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"node"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"module"</span><span class="token operator">:</span> <span class="token string">"./index.js"</span><span class="token punctuation">,</span>
      <span class="token property">"import"</span><span class="token operator">:</span> <span class="token string">"./wrapper.js"</span><span class="token punctuation">,</span>
      <span class="token property">"require"</span><span class="token operator">:</span> <span class="token string">"./index.cjs"</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">"default"</span><span class="token operator">:</span> <span class="token string">"./index.js"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre> <pre><code class="hljs language-js"><span class="token comment">// wrapper.js</span>
<span class="token keyword">import</span> cjs <span class="token keyword">from</span> <span class="token string">'./index.cjs'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">A</span> <span class="token operator">=</span> cjs<span class="token punctuation">.</span><span class="token constant">A</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">B</span> <span class="token operator">=</span> cjs<span class="token punctuation">.</span><span class="token constant">B</span><span class="token punctuation">;</span></code></pre> <p>In a stateful package we must ensure that the package is never instantiated twice.</p> <p>This isn't a problem for most tools, but Node.js is again an exception here. For Node.js we always use the CommonJs version and expose named exports in the ESM with a ESM wrapper.</p> <p>We use the <code>module</code> condition as optimization again.</p> <h4 id="providing-only-a-commonjs-version">Providing only a CommonJs version<a href="#providing-only-a-commonjs-version" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <pre><code class="hljs language-json"><span class="token punctuation">{</span>
  <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"commonjs"</span><span class="token punctuation">,</span>
  <span class="token property">"exports"</span><span class="token operator">:</span> <span class="token string">"./index.js"</span>
<span class="token punctuation">}</span></code></pre> <p>Providing <code>"type": "commonjs"</code> helps to statically detect CommonJs files.</p> <h4 id="providing-a-bundled-script-version-for-direct-browser-consumption">Providing a bundled script version for direct browser consumption<a href="#providing-a-bundled-script-version-for-direct-browser-consumption" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <pre><code class="hljs language-json"><span class="token punctuation">{</span>
  <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"module"</span><span class="token punctuation">,</span>
  <span class="token property">"exports"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"script"</span><span class="token operator">:</span> <span class="token string">"./dist-bundle.js"</span><span class="token punctuation">,</span>
    <span class="token property">"default"</span><span class="token operator">:</span> <span class="token string">"./index.js"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre> <p>Note that despite using <code>"type": "module"</code> and <code>.js</code> for <code>dist-bundle.js</code> this file is not in ESM format. It should use globals to allow direct consumption as script tag.</p> <h3 id="providing-devtools-or-production-optimizations">Providing devtools or production optimizations<a href="#providing-devtools-or-production-optimizations" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>These patterns make sense when a package contains two versions, one for development and one for production. E. g. the development version could include additional code for better error message or additional warnings.</p> <h4 id="without-nodejs-runtime-detection">Without Node.js runtime detection<a href="#without-nodejs-runtime-detection" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <pre><code class="hljs language-json"><span class="token punctuation">{</span>
  <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"module"</span><span class="token punctuation">,</span>
  <span class="token property">"exports"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"development"</span><span class="token operator">:</span> <span class="token string">"./index-with-devtools.js"</span><span class="token punctuation">,</span>
    <span class="token property">"default"</span><span class="token operator">:</span> <span class="token string">"./index-optimized.js"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre> <p>When the <code>development</code> condition is supported we use the version enhanced for development. Otherwise, in production or when mode is unknown, we use the optimized version.</p> <h4 id="with-nodejs-runtime-detection">With Node.js runtime detection<a href="#with-nodejs-runtime-detection" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <pre><code class="hljs language-json"><span class="token punctuation">{</span>
  <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"module"</span><span class="token punctuation">,</span>
  <span class="token property">"exports"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"development"</span><span class="token operator">:</span> <span class="token string">"./index-with-devtools.js"</span><span class="token punctuation">,</span>
    <span class="token property">"production"</span><span class="token operator">:</span> <span class="token string">"./index-optimized.js"</span><span class="token punctuation">,</span>
    <span class="token property">"node"</span><span class="token operator">:</span> <span class="token string">"./wrapper-process-env.cjs"</span><span class="token punctuation">,</span>
    <span class="token property">"default"</span><span class="token operator">:</span> <span class="token string">"./index-optimized.js"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre> <pre><code class="hljs language-js"><span class="token comment">// wrapper-process-env.cjs</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">!==</span> <span class="token string">'development'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./index-optimized.cjs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./index-with-devtools.cjs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre> <p>We prefer static detection of production/development mode via the <code>production</code> or <code>development</code> condition.</p> <p>Node.js allows to detection production/development mode at runtime via <code>process.env.NODE_ENV</code>, so we use that as fallback in Node.js. Sync conditional importing ESM is not possible and we don't want to load the package twice, so we have to use CommonJs for the runtime detection.</p> <p>When it's not possible to detect mode we fallback to the production version.</p> <h3 id="providing-different-versions-depending-on-target-environment">Providing different versions depending on target environment<a href="#providing-different-versions-depending-on-target-environment" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>A fallback environment should be chosen that makes sense for the package to support future environments. In general a browser-like environment should be assumed.</p> <h4 id="providing-nodejs-webworker-and-browser-versions">Providing Node.js, WebWorker and browser versions<a href="#providing-nodejs-webworker-and-browser-versions" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <pre><code class="hljs language-json"><span class="token punctuation">{</span>
  <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"module"</span><span class="token punctuation">,</span>
  <span class="token property">"exports"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"node"</span><span class="token operator">:</span> <span class="token string">"./index-node.js"</span><span class="token punctuation">,</span>
    <span class="token property">"worker"</span><span class="token operator">:</span> <span class="token string">"./index-worker.js"</span><span class="token punctuation">,</span>
    <span class="token property">"default"</span><span class="token operator">:</span> <span class="token string">"./index.js"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre> <h4 id="providing-nodejs-browser-and-electron-versions">Providing Node.js, browser and electron versions<a href="#providing-nodejs-browser-and-electron-versions" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <pre><code class="hljs language-json"><span class="token punctuation">{</span>
  <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"module"</span><span class="token punctuation">,</span>
  <span class="token property">"exports"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"electron"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"node"</span><span class="token operator">:</span> <span class="token string">"./index-electron-node.js"</span><span class="token punctuation">,</span>
      <span class="token property">"default"</span><span class="token operator">:</span> <span class="token string">"./index-electron.js"</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">"node"</span><span class="token operator">:</span> <span class="token string">"./index-node.js"</span><span class="token punctuation">,</span>
    <span class="token property">"default"</span><span class="token operator">:</span> <span class="token string">"./index.js"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre> <h3 id="combining-patterns">Combining patterns<a href="#combining-patterns" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <h4 id="example-1">Example 1<a href="#example-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>This is an example for a package that has optimizations for production and development usage with runtime detection for <code>process.env</code> and also ships a CommonJs and ESM version</p> <pre><code class="hljs language-json"><span class="token punctuation">{</span>
  <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"module"</span><span class="token punctuation">,</span>
  <span class="token property">"exports"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"node"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"development"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"module"</span><span class="token operator">:</span> <span class="token string">"./index-with-devtools.js"</span><span class="token punctuation">,</span>
        <span class="token property">"import"</span><span class="token operator">:</span> <span class="token string">"./wrapper-with-devtools.js"</span><span class="token punctuation">,</span>
        <span class="token property">"require"</span><span class="token operator">:</span> <span class="token string">"./index-with-devtools.cjs"</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">"production"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"module"</span><span class="token operator">:</span> <span class="token string">"./index-optimized.js"</span><span class="token punctuation">,</span>
        <span class="token property">"import"</span><span class="token operator">:</span> <span class="token string">"./wrapper-optimized.js"</span><span class="token punctuation">,</span>
        <span class="token property">"require"</span><span class="token operator">:</span> <span class="token string">"./index-optimized.cjs"</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">"default"</span><span class="token operator">:</span> <span class="token string">"./wrapper-process-env.cjs"</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">"development"</span><span class="token operator">:</span> <span class="token string">"./index-with-devtools.js"</span><span class="token punctuation">,</span>
    <span class="token property">"production"</span><span class="token operator">:</span> <span class="token string">"./index-optimized.js"</span><span class="token punctuation">,</span>
    <span class="token property">"default"</span><span class="token operator">:</span> <span class="token string">"./index-optimized.js"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre> <h4 id="example-2">Example 2<a href="#example-2" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>This is an example for a package that supports Node.js, browser and electron, has optimizations for production and development usage with runtime detection for <code>process.env</code> and also ships a CommonJs and ESM version.</p> <pre><code class="hljs language-json"><span class="token punctuation">{</span>
  <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"module"</span><span class="token punctuation">,</span>
  <span class="token property">"exports"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"electron"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"node"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"development"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">"module"</span><span class="token operator">:</span> <span class="token string">"./index-electron-node-with-devtools.js"</span><span class="token punctuation">,</span>
          <span class="token property">"import"</span><span class="token operator">:</span> <span class="token string">"./wrapper-electron-node-with-devtools.js"</span><span class="token punctuation">,</span>
          <span class="token property">"require"</span><span class="token operator">:</span> <span class="token string">"./index-electron-node-with-devtools.cjs"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">"production"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">"module"</span><span class="token operator">:</span> <span class="token string">"./index-electron-node-optimized.js"</span><span class="token punctuation">,</span>
          <span class="token property">"import"</span><span class="token operator">:</span> <span class="token string">"./wrapper-electron-node-optimized.js"</span><span class="token punctuation">,</span>
          <span class="token property">"require"</span><span class="token operator">:</span> <span class="token string">"./index-electron-node-optimized.cjs"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">"default"</span><span class="token operator">:</span> <span class="token string">"./wrapper-electron-node-process-env.cjs"</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">"development"</span><span class="token operator">:</span> <span class="token string">"./index-electron-with-devtools.js"</span><span class="token punctuation">,</span>
      <span class="token property">"production"</span><span class="token operator">:</span> <span class="token string">"./index-electron-optimized.js"</span><span class="token punctuation">,</span>
      <span class="token property">"default"</span><span class="token operator">:</span> <span class="token string">"./index-electron-optimized.js"</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">"node"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"development"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"module"</span><span class="token operator">:</span> <span class="token string">"./index-node-with-devtools.js"</span><span class="token punctuation">,</span>
        <span class="token property">"import"</span><span class="token operator">:</span> <span class="token string">"./wrapper-node-with-devtools.js"</span><span class="token punctuation">,</span>
        <span class="token property">"require"</span><span class="token operator">:</span> <span class="token string">"./index-node-with-devtools.cjs"</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">"production"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"module"</span><span class="token operator">:</span> <span class="token string">"./index-node-optimized.js"</span><span class="token punctuation">,</span>
        <span class="token property">"import"</span><span class="token operator">:</span> <span class="token string">"./wrapper-node-optimized.js"</span><span class="token punctuation">,</span>
        <span class="token property">"require"</span><span class="token operator">:</span> <span class="token string">"./index-node-optimized.cjs"</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">"default"</span><span class="token operator">:</span> <span class="token string">"./wrapper-node-process-env.cjs"</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">"development"</span><span class="token operator">:</span> <span class="token string">"./index-with-devtools.js"</span><span class="token punctuation">,</span>
    <span class="token property">"production"</span><span class="token operator">:</span> <span class="token string">"./index-optimized.js"</span><span class="token punctuation">,</span>
    <span class="token property">"default"</span><span class="token operator">:</span> <span class="token string">"./index-optimized.js"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre> <p>Looks complex, yes. We were already able to reduce some complexity due to a assumption we can make: Only <code>node</code> need a CommonJs version and can detect production/development with <code>process.env</code>.</p> <h2 id="guidelines">Guidelines<a href="#guidelines" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <ul> <li>Avoid the <code>default</code> export. It's handled differently between tooling. Only use named exports.</li> <li>Never provide different APIs or semantics for different conditions.</li> <li>Write your source code as ESM and transpile to CJS via babel, typescript or similar tools.</li> <li>Either use <code>.cjs</code> or <code>type: "commonjs"</code> in package.json to clearly mark source code as CommonJs. This makes it statically detectable for tools if CommonJs or ESM is used. This is important for tools that only support ESM and no CommonJs.</li> <li>ESM used in packages support the following types of requests: <ul> <li>module requests are supported, pointing to other packages with a package.json.</li> <li>relative requests are supported, pointing to other files within the package. <ul> <li>They must not point to files outside of the package.</li> </ul> </li> <li><code>data:</code> url requests are supported.</li> <li>other absolute or server-relative requests are not supported by default, but they might be supported by some tools or environments.</li> </ul> </li> </ul> </div><div class="adjacent-links"><div class="adjacent-links__prev"><div>« Previous</div><a class="adjacent-links__link" href="/guides/entry-advanced/">Advanced entry</a></div></div><div class="related__section"><hr/><h3>Further Reading</h3><ul><li><a href="https://nodejs.org/api/packages.html#packages_package_entry_points">Package entry points in Node.js</a></li></ul></div><div class="contributors__section"><hr/><h3>Contributors</h3><div class="contributors"><div class="contributors__list"><a class="contributor" href="https://github.com/sokra"><img alt="sokra" src="/icon-square-small-slack.9281492bb267314634b4.png"/><span class="contributor__name"> <!-- -->sokra</span></a></div></div></div></div></section></div><footer class="footer"><div class="container footer__inner"><section class="footer__left"><a class="footer__link" href="/guides/getting-started/">Get Started</a><a class="footer__link" href="/comparison/">Comparison</a></section><section class="footer__middle"><a class="footer__icon" href="/"><img src="/icon-square-small.85ba630cf0c5f29ae3e3.svg" alt="webpack icon"/></a></section><section class="footer__right"><a href="https://webpack.threadless.com/" target="_blank" rel="noopener noreferrer" class="footer__link">Swag Store</a><a class="footer__link" href="/glossary/">Glossary</a><a class="footer__link" href="/branding/">Branding</a><a href="https://gitter.im/webpack/webpack" target="_blank" rel="noopener noreferrer" class="footer__link">Gitter</a><a href="https://github.com/webpack/webpack/releases" target="_blank" rel="noopener noreferrer" class="footer__link">Changelog</a><a class="footer__link footer__license" href="/license"><img alt="Creative Commons License" src="/cc.ab77d813bf219c6e34ff.svg"/><img alt="Creative Commons License" src="/by.1360bb2e6d1fc28cdd9e.svg"/></a></section></div></footer></div></div><script src="/vendor.27e9aedd088f8f02204b.js"></script><script src="/index.792c24744f1d89cd4778.js"></script></body>